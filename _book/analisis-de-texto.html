<!DOCTYPE html>
<html lang="es" xml:lang="es">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Analisis de texto | Ciencia de Datos para Activismo Jurídico</title>
  <meta name="description" content="5 Analisis de texto | Ciencia de Datos para Activismo Jurídico" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Analisis de texto | Ciencia de Datos para Activismo Jurídico" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="bitsandbricks/CD_AJ" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Analisis de texto | Ciencia de Datos para Activismo Jurídico" />
  
  
  

<meta name="author" content="Antonio Vazquez Brust" />
<meta name="author" content="Demian Zayat" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="visualización.html"/>
<link rel="next" href="información-geográfica-y-mapas.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Ciencia de Datos para Activismo Jurídico</a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>¿Para quién es esto?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#antes-de-empezar"><i class="fa fa-check"></i>Antes de empezar</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="qué-es-la-ciencia-de-datos.html"><a href="qué-es-la-ciencia-de-datos.html"><i class="fa fa-check"></i><b>1</b> ¿Qué es la ciencia de datos?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="qué-es-la-ciencia-de-datos.html"><a href="qué-es-la-ciencia-de-datos.html#qué-significa-hacer-ciencia-de-datos"><i class="fa fa-check"></i><b>1.1</b> ¿Qué significa hacer ciencia de datos?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html"><i class="fa fa-check"></i><b>2</b> Una presentación a toda marcha de R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html#nuestro-primer-proyecto-en-r"><i class="fa fa-check"></i><b>2.1</b> Nuestro primer proyecto en R</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html#a-investigar-cual-es-la-diferencia-en-mortalidad-infantil-entre-el-sur-y-el-norte-de-la-ciudad-autónoma-de-buenos-aires"><i class="fa fa-check"></i><b>2.1.1</b> A investigar: ¿Cual es la diferencia en mortalidad infantil entre el sur y el norte de la Ciudad Autónoma de Buenos Aires?</a></li>
<li class="chapter" data-level="2.1.2" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html#crear-un-proyecto-en-rstudio"><i class="fa fa-check"></i><b>2.1.2</b> Crear un proyecto en RStudio</a></li>
<li class="chapter" data-level="2.1.3" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html#escribiendo-un-script"><i class="fa fa-check"></i><b>2.1.3</b> Escribiendo un script</a></li>
<li class="chapter" data-level="2.1.4" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html#cargar-los-datos"><i class="fa fa-check"></i><b>2.1.4</b> Cargar los datos</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html#visualización-la-exploración-gráfica-de-la-información"><i class="fa fa-check"></i><b>2.2</b> Visualización: la exploración gráfica de la información</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html#haciendo-mapas"><i class="fa fa-check"></i><b>2.2.1</b> Haciendo mapas</a></li>
<li class="chapter" data-level="2.2.2" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html#agregando-datos"><i class="fa fa-check"></i><b>2.2.2</b> Agregando datos</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html#el-veredicto-final"><i class="fa fa-check"></i><b>2.3</b> El veredicto final</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html#cuál-es-la-diferencia-en-mortalidad-infantil-entre-el-sur-y-el-norte-de-la-ciudad-autónoma-de-buenos-aires"><i class="fa fa-check"></i><b>2.3.1</b> ¿Cuál es la diferencia en mortalidad infantil entre el sur y el norte de la Ciudad Autónoma de Buenos Aires?</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="una-presentación-a-toda-marcha-de-r.html"><a href="una-presentación-a-toda-marcha-de-r.html#ejercicios"><i class="fa fa-check"></i><b>2.4</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="poniendo-los-datos-en-forma.html"><a href="poniendo-los-datos-en-forma.html"><i class="fa fa-check"></i><b>3</b> Poniendo los datos en forma</a>
<ul>
<li class="chapter" data-level="3.1" data-path="poniendo-los-datos-en-forma.html"><a href="poniendo-los-datos-en-forma.html#primeros-pasos-al-examinar-un-conjunto-de-datos-nuevo"><i class="fa fa-check"></i><b>3.1</b> Primeros pasos al examinar un conjunto de datos nuevo</a></li>
<li class="chapter" data-level="3.2" data-path="poniendo-los-datos-en-forma.html"><a href="poniendo-los-datos-en-forma.html#cruzando-variables-la-operación-join"><i class="fa fa-check"></i><b>3.2</b> Cruzando variables: la operación <code>join</code></a></li>
<li class="chapter" data-level="3.3" data-path="poniendo-los-datos-en-forma.html"><a href="poniendo-los-datos-en-forma.html#transformando-los-datos"><i class="fa fa-check"></i><b>3.3</b> Transformando los datos</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="poniendo-los-datos-en-forma.html"><a href="poniendo-los-datos-en-forma.html#seleccionar-columnas-con-select"><i class="fa fa-check"></i><b>3.3.1</b> Seleccionar columnas con <code>select()</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="poniendo-los-datos-en-forma.html"><a href="poniendo-los-datos-en-forma.html#filtrar-filas-con-filter"><i class="fa fa-check"></i><b>3.3.2</b> Filtrar filas con <code>filter()</code></a></li>
<li class="chapter" data-level="3.3.3" data-path="poniendo-los-datos-en-forma.html"><a href="poniendo-los-datos-en-forma.html#ordenar-filas-con-arrange"><i class="fa fa-check"></i><b>3.3.3</b> Ordenar filas con <code>arrange()</code></a></li>
<li class="chapter" data-level="3.3.4" data-path="poniendo-los-datos-en-forma.html"><a href="poniendo-los-datos-en-forma.html#agregar-nuevas-variables-con-mutate"><i class="fa fa-check"></i><b>3.3.4</b> Agregar nuevas variables con <code>mutate()</code></a></li>
<li class="chapter" data-level="3.3.5" data-path="poniendo-los-datos-en-forma.html"><a href="poniendo-los-datos-en-forma.html#extraer-resúmenes-con-summarise"><i class="fa fa-check"></i><b>3.3.5</b> Extraer resúmenes con <code>summarise()</code></a></li>
<li class="chapter" data-level="3.3.6" data-path="poniendo-los-datos-en-forma.html"><a href="poniendo-los-datos-en-forma.html#bonus-el-operador-pipe"><i class="fa fa-check"></i><b>3.3.6</b> ¡BONUS! El operador “pipe”: <code>%&gt;%</code></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="poniendo-los-datos-en-forma.html"><a href="poniendo-los-datos-en-forma.html#ejercicios-1"><i class="fa fa-check"></i><b>3.4</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualización.html"><a href="visualización.html"><i class="fa fa-check"></i><b>4</b> Visualización</a>
<ul>
<li class="chapter" data-level="4.1" data-path="visualización.html"><a href="visualización.html#una-buena-visualización-para-empezar-el-scatterplot"><i class="fa fa-check"></i><b>4.1</b> Una buena visualización para empezar: el <em>scatterplot</em></a></li>
<li class="chapter" data-level="4.2" data-path="visualización.html"><a href="visualización.html#ajustando-color-y-tamaño"><i class="fa fa-check"></i><b>4.2</b> Ajustando color y tamaño</a></li>
<li class="chapter" data-level="4.3" data-path="visualización.html"><a href="visualización.html#facetado"><i class="fa fa-check"></i><b>4.3</b> Facetado</a></li>
<li class="chapter" data-level="4.4" data-path="visualización.html"><a href="visualización.html#gráficos-de-barras"><i class="fa fa-check"></i><b>4.4</b> Gráficos de barras</a></li>
<li class="chapter" data-level="4.5" data-path="visualización.html"><a href="visualización.html#histogramas"><i class="fa fa-check"></i><b>4.5</b> Histogramas</a></li>
<li class="chapter" data-level="4.6" data-path="visualización.html"><a href="visualización.html#preparando-una-visualización-para-compartir"><i class="fa fa-check"></i><b>4.6</b> Preparando una visualización para compartir</a></li>
<li class="chapter" data-level="4.7" data-path="visualización.html"><a href="visualización.html#otras-visualizaciones"><i class="fa fa-check"></i><b>4.7</b> Otras visualizaciones</a></li>
<li class="chapter" data-level="4.8" data-path="visualización.html"><a href="visualización.html#ejercicios-2"><i class="fa fa-check"></i><b>4.8</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html"><i class="fa fa-check"></i><b>5</b> Analisis de texto</a>
<ul>
<li class="chapter" data-level="5.1" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html#manipulación-de-texto"><i class="fa fa-check"></i><b>5.1</b> Manipulación de texto</a></li>
<li class="chapter" data-level="5.2" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html#metacaracteres"><i class="fa fa-check"></i><b>5.2</b> Metacaracteres</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html#comienzo-y-fin-de-línea"><i class="fa fa-check"></i><b>5.2.1</b> Comienzo y fin de línea</a></li>
<li class="chapter" data-level="5.2.2" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html#clases-de-palabras"><i class="fa fa-check"></i><b>5.2.2</b> Clases de Palabras</a></li>
<li class="chapter" data-level="5.2.3" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html#lookaround"><i class="fa fa-check"></i><b>5.2.3</b> Lookaround</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html#primer-ejercicio"><i class="fa fa-check"></i><b>5.3</b> Primer ejercicio</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html#consiguiendo-los-datos"><i class="fa fa-check"></i><b>5.3.1</b> Consiguiendo los datos</a></li>
<li class="chapter" data-level="5.3.2" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html#limpieza-de-datos"><i class="fa fa-check"></i><b>5.3.2</b> Limpieza de datos</a></li>
<li class="chapter" data-level="5.3.3" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html#análisis"><i class="fa fa-check"></i><b>5.3.3</b> Análisis</a></li>
<li class="chapter" data-level="5.3.4" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html#quienes-hablaron"><i class="fa fa-check"></i><b>5.3.4</b> Quienes hablaron?</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="analisis-de-texto.html"><a href="analisis-de-texto.html#ejercicios-3"><i class="fa fa-check"></i><b>5.4</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="información-geográfica-y-mapas.html"><a href="información-geográfica-y-mapas.html"><i class="fa fa-check"></i><b>6</b> Información geográfica y mapas</a>
<ul>
<li class="chapter" data-level="6.1" data-path="información-geográfica-y-mapas.html"><a href="información-geográfica-y-mapas.html#los-datos-georreferenciados"><i class="fa fa-check"></i><b>6.1</b> Los datos georreferenciados</a></li>
<li class="chapter" data-level="6.2" data-path="información-geográfica-y-mapas.html"><a href="información-geográfica-y-mapas.html#formatos-de-archivo"><i class="fa fa-check"></i><b>6.2</b> Formatos de archivo</a></li>
<li class="chapter" data-level="6.3" data-path="información-geográfica-y-mapas.html"><a href="información-geográfica-y-mapas.html#explorando-un-archivo-con-información-geográfica"><i class="fa fa-check"></i><b>6.3</b> Explorando un archivo con información geográfica</a></li>
<li class="chapter" data-level="6.4" data-path="información-geográfica-y-mapas.html"><a href="información-geográfica-y-mapas.html#visualizando-información-geográfica"><i class="fa fa-check"></i><b>6.4</b> Visualizando información geográfica</a></li>
<li class="chapter" data-level="6.5" data-path="información-geográfica-y-mapas.html"><a href="información-geográfica-y-mapas.html#volcando-en-el-mapa-información-de-múltiples-fuentes"><i class="fa fa-check"></i><b>6.5</b> Volcando en el mapa información de múltiples fuentes</a></li>
<li class="chapter" data-level="6.6" data-path="información-geográfica-y-mapas.html"><a href="información-geográfica-y-mapas.html#combinando-capas-geográficas"><i class="fa fa-check"></i><b>6.6</b> Combinando capas geográficas</a></li>
<li class="chapter" data-level="6.7" data-path="información-geográfica-y-mapas.html"><a href="información-geográfica-y-mapas.html#ejercicios-4"><i class="fa fa-check"></i><b>6.7</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html"><i class="fa fa-check"></i><b>7</b> Analisis de Texto</a>
<ul>
<li class="chapter" data-level="7.1" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html#manipulación-de-texto-1"><i class="fa fa-check"></i><b>7.1</b> Manipulación de texto</a></li>
<li class="chapter" data-level="7.2" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html#metacaracteres-1"><i class="fa fa-check"></i><b>7.2</b> Metacaracteres</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html#comienzo-y-fin-de-línea-1"><i class="fa fa-check"></i><b>7.2.1</b> Comienzo y fin de línea</a></li>
<li class="chapter" data-level="7.2.2" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html#clases-de-palabras-1"><i class="fa fa-check"></i><b>7.2.2</b> Clases de Palabras</a></li>
<li class="chapter" data-level="7.2.3" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html#lookaround-1"><i class="fa fa-check"></i><b>7.2.3</b> Lookaround</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html#primer-ejercicio-1"><i class="fa fa-check"></i><b>7.3</b> Primer ejercicio</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html#consiguiendo-los-datos-1"><i class="fa fa-check"></i><b>7.3.1</b> Consiguiendo los datos</a></li>
<li class="chapter" data-level="7.3.2" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html#limpieza-de-datos-1"><i class="fa fa-check"></i><b>7.3.2</b> Limpieza de datos</a></li>
<li class="chapter" data-level="7.3.3" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html#análisis-1"><i class="fa fa-check"></i><b>7.3.3</b> Análisis</a></li>
<li class="chapter" data-level="7.3.4" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html#quienes-hablaron-1"><i class="fa fa-check"></i><b>7.3.4</b> Quienes hablaron?</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="analisis-de-texto-1.html"><a href="analisis-de-texto-1.html#ejercicios-para-el-hogar"><i class="fa fa-check"></i><b>7.4</b> Ejercicios para el hogar</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ciencia de Datos para Activismo Jurídico</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analisis-de-texto" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Analisis de texto<a href="analisis-de-texto.html#analisis-de-texto" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><img src="imagenes/textos.jpg" width="100%" /></p>
<p>A veces, lo que queremos analizar es un texto. Los textos, audios e imágenes son datos no estructurados y hay que realizar algún tipo de preparación o estructuración para poder procesarlos automáticamente.</p>
<p>En el análisis automático de texto se suelen partir los documentos, y armar lo que se llama un <em>bolsa de palabras</em>, donde se rompe la sintaxis . Ello sirve para medir frecuencias de palabras, cercanía entre ellas, clasificarlas como “positivas” o “negativas” sentimentalmente hablando, etc. La minería de texto tiene diversas herramientas para realizar este tipo de tareas.</p>
<p>Las palabras, por su parte, son cadenas de caracteres, y también se pueden manipular de modo automático. Para hacer ello usaremos lo que se conoce como <em>expresiones regulares</em> (“regular expressions” o regex) que permitirá detectar patrones y manipularlos. Las <code>regex</code> son relativamente antiguas (circa 1980) y tuvieron un desarrollo paralelo a la ciencia de datos. Por ello, vienen en varios sabores, cada uno sutilmente diferente al otro. <code>R</code> utiliza <code>regex</code>a través de varios paquetes, entre ellos el <code>stringr</code> de la constelación <code>tidyverse</code>.</p>
<div id="manipulación-de-texto" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Manipulación de texto<a href="analisis-de-texto.html#manipulación-de-texto" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En <code>stringr</code> todas las funciones comienza con <code>str_</code>. Usando RStudio, si se presionamos la tecla <code>tab</code> luego de escribir <code>str_</code> vamos a ver una lista de funciones sugeridas. Por ejemplo, para unir -o <em>c</em>oncatenar- caracteres se utiliza <code>str_c</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="analisis-de-texto.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="analisis-de-texto.html#cb1-2" aria-hidden="true" tabindex="-1"></a>oracion <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Esta&quot;</span>, <span class="st">&quot;es&quot;</span>, <span class="st">&quot;una&quot;</span>, <span class="st">&quot;cadena&quot;</span>, <span class="st">&quot;de&quot;</span>, <span class="st">&quot;palabras.&quot;</span>)</span>
<span id="cb1-3"><a href="analisis-de-texto.html#cb1-3" aria-hidden="true" tabindex="-1"></a>oracion</span></code></pre></div>
<pre><code>## [1] &quot;Esta&quot;      &quot;es&quot;        &quot;una&quot;       &quot;cadena&quot;    &quot;de&quot;        &quot;palabras.&quot;</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="analisis-de-texto.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># con `collapse = &quot; &quot;` indicamos que queremos combinar los elementos separados con un espacio</span></span>
<span id="cb3-2"><a href="analisis-de-texto.html#cb3-2" aria-hidden="true" tabindex="-1"></a>oracion <span class="ot">&lt;-</span> <span class="fu">str_c</span>(oracion, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>) </span>
<span id="cb3-3"><a href="analisis-de-texto.html#cb3-3" aria-hidden="true" tabindex="-1"></a>oracion</span></code></pre></div>
<pre><code>## [1] &quot;Esta es una cadena de palabras.&quot;</code></pre>
<p>Para extraer caracteres de una palabra se utiliza <code>str_sub</code>. Hay que señalar el comienzo y el final de lo que se quiera extraer:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="analisis-de-texto.html#cb5-1" aria-hidden="true" tabindex="-1"></a>frutas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Manzana&quot;</span>, <span class="st">&quot;Banana&quot;</span>, <span class="st">&quot;Pera&quot;</span>)</span>
<span id="cb5-2"><a href="analisis-de-texto.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sub</span>(frutas, <span class="dv">1</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Man&quot; &quot;Ban&quot; &quot;Per&quot;</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="analisis-de-texto.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sub</span>(frutas, <span class="sc">-</span><span class="dv">3</span>, <span class="sc">-</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;ana&quot; &quot;ana&quot; &quot;era&quot;</code></pre>
<p>Se puede pasar los caracteres a mayúscula, o a minúscula:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="analisis-de-texto.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_lower</span>(frutas)</span></code></pre></div>
<pre><code>## [1] &quot;manzana&quot; &quot;banana&quot;  &quot;pera&quot;</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="analisis-de-texto.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_upper</span>(frutas)</span></code></pre></div>
<pre><code>## [1] &quot;MANZANA&quot; &quot;BANANA&quot;  &quot;PERA&quot;</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="analisis-de-texto.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_sentence</span>(<span class="fu">str_c</span>(frutas, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;Manzana banana pera&quot;</code></pre>
<p>Una función muy importante nos permite detectar patrones, <code>str_detect</code>. Utilizaremos <code>str_view</code> para que la señale en el texto cuando la detecte:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="analisis-de-texto.html#cb15-1" aria-hidden="true" tabindex="-1"></a>frutas</span></code></pre></div>
<pre><code>## [1] &quot;Manzana&quot; &quot;Banana&quot;  &quot;Pera&quot;</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="analisis-de-texto.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(frutas, <span class="st">&quot;an&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-2ff4a2a81a59b8fb78f7" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-2ff4a2a81a59b8fb78f7">{"x":{"html":"<ul>\n  <li>M<span class='match'>an<\/span>zana<\/li>\n  <li>B<span class='match'>an<\/span>ana<\/li>\n  <li>Pera<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>Y ahora es donde comienzan a resultar interesantes las <code>regex</code>. Por ejemplo, el punto (.) puede reemplazar a cualquie caracter, excepto el salto de línea</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="analisis-de-texto.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(frutas, <span class="st">&quot;.an&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-9f3ef807cddbc69e1da4" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-9f3ef807cddbc69e1da4">{"x":{"html":"<ul>\n  <li><span class='match'>Man<\/span>zana<\/li>\n  <li><span class='match'>Ban<\/span>ana<\/li>\n  <li>Pera<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>Pero si el “punto” reemplaza a cualquier caracter, ¿cómo seleccionamos al caracter “.”? Tenemos que utilizar un “escape” que le diga que estamos refiriendo al caracter y no al <code>regex</code>. para ello, se usa la barra invertida, que se denomina <code>escape</code>. Pero para que sepa que es un escape y no una barra invertida, debemos usar dos barras invertidas…</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="analisis-de-texto.html#cb19-1" aria-hidden="true" tabindex="-1"></a>oracion</span></code></pre></div>
<pre><code>## [1] &quot;Esta es una cadena de palabras.&quot;</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="analisis-de-texto.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(oracion, <span class="st">&quot;.as</span><span class="sc">\\</span><span class="st">.&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-16c42bb2a7d5ed9ead59" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-16c42bb2a7d5ed9ead59">{"x":{"html":"<ul>\n  <li>Esta es una cadena de palab<span class='match'>ras.<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="analisis-de-texto.html#cb22-1" aria-hidden="true" tabindex="-1"></a>saludo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Quiero saludar a los Sres. padres y las Sras. madres&quot;</span>)</span>
<span id="cb22-2"><a href="analisis-de-texto.html#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(saludo, <span class="st">&quot;Sr.s</span><span class="sc">\\</span><span class="st">.&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-63d39969c489a9724c8d" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-63d39969c489a9724c8d">{"x":{"html":"<ul>\n  <li>Quiero saludar a los <span class='match'>Sres.<\/span> padres y las Sras. madres<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="analisis-de-texto.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(saludo, <span class="st">&quot;Sr.s</span><span class="sc">\\</span><span class="st">.&quot;</span>) <span class="co">#para que detecte todas las coincidencias y no solo la primera.</span></span></code></pre></div>
<div id="htmlwidget-c80dd13f8066f90412d3" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-c80dd13f8066f90412d3">{"x":{"html":"<ul>\n  <li>Quiero saludar a los <span class='match'>Sres.<\/span> padres y las <span class='match'>Sras.<\/span> madres<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="metacaracteres" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Metacaracteres<a href="analisis-de-texto.html#metacaracteres" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="comienzo-y-fin-de-línea" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Comienzo y fin de línea<a href="analisis-de-texto.html#comienzo-y-fin-de-línea" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>-<code>^</code>para buscar solo al comienzo de la línea - <code>$</code> para buscar solo al final de la línea</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="analisis-de-texto.html#cb24-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;arándano&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pera&quot;</span>)</span>
<span id="cb24-2"><a href="analisis-de-texto.html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;^a&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-5a76d091d277398c8785" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-5a76d091d277398c8785">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span>rándano<\/li>\n  <li>banana<\/li>\n  <li>pera<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="analisis-de-texto.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;a$&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-59bb3ee8c2ed2d623171" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-59bb3ee8c2ed2d623171">{"x":{"html":"<ul>\n  <li>arándano<\/li>\n  <li>banan<span class='match'>a<\/span><\/li>\n  <li>per<span class='match'>a<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="clases-de-palabras" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Clases de Palabras<a href="analisis-de-texto.html#clases-de-palabras" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Cuando se usan los corchetes, se pueden coincidir una de varias opciones. Mientras que <code>a</code> identifica una “a” y <code>e</code> identifica una “e”, <code>[ae]</code> identifica una “a” o una “e”.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="analisis-de-texto.html#cb26-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;Esto es muy necesario, o nesesario?&quot;</span></span>
<span id="cb26-2"><a href="analisis-de-texto.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span> (x, <span class="st">&quot;ne[cs]e[cs]ario&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-dd2078d5c6dde7bbb9f4" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-dd2078d5c6dde7bbb9f4">{"x":{"html":"<ul>\n  <li>Esto es muy <span class='match'>necesario<\/span>, o <span class='match'>nesesario<\/span>?<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>Se pueden listar muchas clases de caracteres. Por ejemplo</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="analisis-de-texto.html#cb27-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;Telefono: 3321-4430&quot;</span></span>
<span id="cb27-2"><a href="analisis-de-texto.html#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;[0123456789]&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-f527b70b380b1bf705e4" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-f527b70b380b1bf705e4">{"x":{"html":"<ul>\n  <li>Telefono: <span class='match'>3<\/span>321-4430<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="analisis-de-texto.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;[0-9]&quot;</span>) <span class="co"># el guión es un metacaracter que indica rango</span></span></code></pre></div>
<div id="htmlwidget-eb2b943b0ff1fdaf7b9f" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-eb2b943b0ff1fdaf7b9f">{"x":{"html":"<ul>\n  <li>Telefono: <span class='match'>3<\/span>321-4430<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="analisis-de-texto.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;[0-9]{8}&quot;</span>) <span class="co"># ¿ por qué no selecciona los ocho números?</span></span></code></pre></div>
<div id="htmlwidget-1e3d15c453b9985f5935" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-1e3d15c453b9985f5935">{"x":{"html":"<ul>\n  <li>Telefono: 3321-4430<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="analisis-de-texto.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;[0-9]{4}&quot;</span>) <span class="co"># ahora solo cuatro...</span></span></code></pre></div>
<div id="htmlwidget-9233b31b76b1e2b13c6e" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-9233b31b76b1e2b13c6e">{"x":{"html":"<ul>\n  <li>Telefono: <span class='match'>3321<\/span>-4430<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="analisis-de-texto.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;[0-9]{4}.[0-9]{4}&quot;</span>) <span class="co">#vean el punto entre los grupos de números</span></span></code></pre></div>
<div id="htmlwidget-e050e20273fab1b86100" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-e050e20273fab1b86100">{"x":{"html":"<ul>\n  <li>Telefono: <span class='match'>3321-4430<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="analisis-de-texto.html#cb32-1" aria-hidden="true" tabindex="-1"></a>(telefono <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(x, <span class="st">&quot;[0-9]{4}.[0-9]{4}&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;3321-4430&quot;</code></pre>
<p>Con <code>str_extract()</code> asigné a una variable <code>telefono</code> el número que leimos automáticamente. Si esto está en un mail o formulario, o algún otro texto, puedo ejecutar el código y leer a través del <code>regex</code> lo que dice. Claro que para ello hay que conocer el tipo de texto que se trata: tengo que saber que el número de teléfono son ocho dígitos separados por un guión. Cuando sé que tipo de patrón estoy buscando, puedo armar un <code>regex</code> para leerlo y procesarlo <em>automágicamente</em>.</p>
<p>Y si queremos identificar todos los números de telefono de una planilla, también lo podemos hacer de modo automático.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="analisis-de-texto.html#cb34-1" aria-hidden="true" tabindex="-1"></a>listado <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">nombre =</span> <span class="fu">c</span>(<span class="st">&quot;carlos&quot;</span>, <span class="st">&quot;laura&quot;</span>, <span class="st">&quot;pedro&quot;</span>, <span class="st">&quot;maria&quot;</span>, <span class="st">&quot;juan carlos&quot;</span>, <span class="st">&quot;miguel&quot;</span>, <span class="st">&quot;teresa&quot;</span>),</span>
<span id="cb34-2"><a href="analisis-de-texto.html#cb34-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">telefono =</span> <span class="fu">c</span>(<span class="st">&quot;4323-3341&quot;</span>,<span class="st">&quot;4664-9800&quot;</span>, <span class="st">&quot;4121-9073&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;4112-5440&quot;</span>, <span class="st">&quot;3442-1009&quot;</span>, <span class="cn">NA</span>))</span>
<span id="cb34-3"><a href="analisis-de-texto.html#cb34-3" aria-hidden="true" tabindex="-1"></a>listado</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["nombre"],"name":[1],"type":["chr"],"align":["left"]},{"label":["telefono"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"carlos","2":"4323-3341"},{"1":"laura","2":"4664-9800"},{"1":"pedro","2":"4121-9073"},{"1":"maria","2":"NA"},{"1":"juan carlos","2":"4112-5440"},{"1":"miguel","2":"3442-1009"},{"1":"teresa","2":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="analisis-de-texto.html#cb35-1" aria-hidden="true" tabindex="-1"></a>telefonos <span class="ot">&lt;-</span> <span class="fu">str_extract_all</span>(listado, <span class="st">&quot;[0-9]{4}.[0-9]{4}&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="analisis-de-texto.html#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb35-3"><a href="analisis-de-texto.html#cb35-3" aria-hidden="true" tabindex="-1"></a>telefonos</span></code></pre></div>
<pre><code>## [1] &quot;4323-3341&quot; &quot;4664-9800&quot; &quot;4121-9073&quot; &quot;4112-5440&quot; &quot;3442-1009&quot;</code></pre>
<p>Hay otros metacaracteres muy útiles. <code>[a-z]</code>es una secuencia de todas las letras en minúscula; <code>[A-Z]</code> en mayúscula. Para elegir todos los dígitos, lo podemos hacer con <code>\\d</code>, y todos los no dígitos con <code>\\D</code>. Con <code>\\w</code> todos los caracteres alfanuméricos ([a-zA-Z0-9_]) y con <code>\\W</code> todos los no alfanuméricos (símbolos, puntos, etc). Con <code>\\s</code> podemos elegir todos los espacios en blanco.</p>
<p>Luego, un [^ ] niega lo anterior: [^a-z] matchea lo que no tenga alguna letra (Ojo, <code>^</code> actúa distinto si está dentro o fuera de los corchetes. Fuera es un ancla de inicio de línea, dentro es negación de lo siguiente). Una que es muy importante es la alternación <code>|</code>, donde matchea una expresión u otra: <code>"(Julio|Jul)"</code> para detectar tanto cuando dice “Julio” o si dice “Jul”. Los paréntesis se usan igual que en matemática, para encerrar conceptos y tratarlos como un único concepto (por ejemplo, para que comience con Julio o Jul puedo poner: <code>^(Julio|Jul)</code>. Sin los paréntesis, sólo buscaría que no comience con “J”).</p>
<p>El listado es el siguiente: <img src="https://www.researchgate.net/profile/Osama-Amehdi/publication/289116519/figure/tbl1/AS:786584169377792@1564547688801/The-most-common-metacharacters-in-regular-expression.png" /></p>
</div>
<div id="lookaround" class="section level3 hasAnchor" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Lookaround<a href="analisis-de-texto.html#lookaround" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Los <code>lookaround</code> nos permiten identificar una posición, y no texto. Luego de identificar esa posición, podemos buscar texto. Esta posición puede ser tanto en referencia a la derecha (adelante, <code>lookahead</code> <code>(?=  )</code>) como a la izquierda (atras, <code>lookbehind</code> <code>(?&gt;=  )</code>). Entonces deberíamos pedirle a <code>regex</code> que identifique el lugar desde donde queremos seleccionar algún patrón. Para ello podemos incluso combinarlos: despues de tal patrón y antes de este otro, y luego decirle con qué queremos hacer el match.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="analisis-de-texto.html#cb37-1" aria-hidden="true" tabindex="-1"></a>discurso <span class="ot">&lt;-</span> <span class="st">&quot;Sr. Presidente (Gioja).- Corresponde ahora pasar al tiempo destinado a los representantes de los bloques. En primer lugar, el Frente de Todos. Tiene la palabra la señora diputada Aparicio, por Buenos Aires.  Sra. Aparicio.- Señor presidente: hoy debatimos de cara a la sociedad, con responsabilidad y transparencia, como nunca se lo ha hecho en este Congreso, la triste historia de procesos de endeudamiento. Sr. Allende.- Señor presidente: quiero destacar la posibilidad que tenemos de analizar este acuerdo con elFondo. &quot;</span></span>
<span id="cb37-2"><a href="analisis-de-texto.html#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="analisis-de-texto.html#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(discurso, <span class="st">&quot;(?&lt;=Sr.?</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">s)(?=</span><span class="sc">\\</span><span class="st">w)</span><span class="sc">\\</span><span class="st">w*&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-750bb665d7297a68d2c4" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-750bb665d7297a68d2c4">{"x":{"html":"<ul>\n  <li>Sr. <span class='match'>Presidente<\/span> (Gioja).- Corresponde ahora pasar al tiempo destinado a los representantes de los bloques. En primer lugar, el Frente de Todos. Tiene la palabra la señora diputada Aparicio, por Buenos Aires.  Sra. <span class='match'>Aparicio<\/span>.- Señor presidente: hoy debatimos de cara a la sociedad, con responsabilidad y transparencia, como nunca se lo ha hecho en este Congreso, la triste historia de procesos de endeudamiento. Sr. <span class='match'>Allende<\/span>.- Señor presidente: quiero destacar la posibilidad que tenemos de analizar este acuerdo con elFondo. <\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="primer-ejercicio" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Primer ejercicio<a href="analisis-de-texto.html#primer-ejercicio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>La desigualdad estructural de género se manifiesta también en las mayores dificultades que tienen las mujeres para acceder a posiciones de poder. Para comenzar a remediar esto, en diversos países se adoptaron medidas de acción positiva como son las leyes de cupo femenino para garantizar un determinado porcentaje <em>mínimo</em> de diputadas mujeres en relación con los varones.</p>
<p>Así, en Argentina, en el año 1991 se adoptó una primera ley que estableció la obligatoriedad de garantizar una mujer entre las primeros tres personas candidatas en las listas de diputados y así sucesivamente, para propender a alcanzar que accedan al 30% de las bancas en disputas. Recientemente, en el 2017 se aprobó una ley de paridad, en donde se debe garantizar el 50% de las bancas para las mujeres.</p>
<p>Una compañera tuvo la idea de medir esta participación en la práctica, y para ello quiso contar cuántas veces tomó la palabra una mujer y cuántas veces un varón, a partir de la implementación de la paridad. En este ejercicio vamos a intentar medir esto.</p>
<p>Antes de continuar, vamos a instalar un nuevo paquetes de funciones: <code>pdftools</code>, que permite extraer el texto de archivos en formato PDF.</p>
<p>Para instalarlo usamos <code>install.packages()</code>, tal como hicimos antes para instalar otros paquetes.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="analisis-de-texto.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;pdftools&quot;</span>)</span></code></pre></div>
<div class="tip">
<p>Recordemos que sólo hace falta instalar paquetes una vez. Es decir, habiendo ejecutado con éxito la línea <code>install.packages("pdftools")</code> ya no hace falta volver hacerlo la próxima vez que necesitemos recurrir al paquete. Ya quedó instalado en nuestro sistema</p>
</div>
<div id="consiguiendo-los-datos" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Consiguiendo los datos<a href="analisis-de-texto.html#consiguiendo-los-datos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La página de la Cámara de Diputados de Argentina tiene una pequeña sección de datos abiertos, en <a href="https://datos.hcdn.gob.ar/" class="uri">https://datos.hcdn.gob.ar/</a>. De allí podemos descargar un dataset con todas las sesiones que hubo, por período parlamentario.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="analisis-de-texto.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pdftools)</span>
<span id="cb39-2"><a href="analisis-de-texto.html#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="analisis-de-texto.html#cb39-3" aria-hidden="true" tabindex="-1"></a>sesiones <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://cdaj.netlify.app/data/sesiones/sesiones.csv&quot;</span>)</span></code></pre></div>
<div class="tip">
<p>Una ventaja de la programación es la reproducibilidad. Y para ello, en general, es útil descargar las bases de datos directamente desde las paginas web. Sin embargo, los links muchas veces cambian y las paginas cuando menos lo esperamos, caen. Por ello, siempre es mejor tener una copia de la base en nuestra PC o nuestra nube y referenciarla de allí.</p>
</div>
<p>Para este ejercicio utilizaremos solamente el período del año 2020, número 138. Del sitio web de la Cámara de Diputados podemos o bien vincular las versiones taquigráficas o bien descargarlas a la PC. Con ello, podremos cargarlas en nuestra tabla.</p>
<p>Una vez descargadas o identificados los links, agregamos una columna con el link para luego descargar el texto.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="analisis-de-texto.html#cb40-1" aria-hidden="true" tabindex="-1"></a>periodo138 <span class="ot">&lt;-</span> sesiones <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="analisis-de-texto.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(periodo_id, <span class="st">&quot;138&quot;</span>),</span>
<span id="cb40-3"><a href="analisis-de-texto.html#cb40-3" aria-hidden="true" tabindex="-1"></a>         reunion_tipo <span class="sc">!=</span> <span class="st">&quot;Apertura Ordinarias&quot;</span>)</span>
<span id="cb40-4"><a href="analisis-de-texto.html#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="analisis-de-texto.html#cb40-5" aria-hidden="true" tabindex="-1"></a>periodo138 <span class="ot">&lt;-</span> periodo138 <span class="sc">%&gt;%</span> </span>
<span id="cb40-6"><a href="analisis-de-texto.html#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reunion_nombre =</span> <span class="fu">paste0</span>(<span class="st">&quot;138-&quot;</span>, reunion_numero))</span>
<span id="cb40-7"><a href="analisis-de-texto.html#cb40-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-8"><a href="analisis-de-texto.html#cb40-8" aria-hidden="true" tabindex="-1"></a>periodo138 <span class="ot">&lt;-</span> periodo138 <span class="sc">%&gt;%</span> </span>
<span id="cb40-9"><a href="analisis-de-texto.html#cb40-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">link =</span> <span class="fu">paste0</span>(<span class="st">&quot;https://cdaj.netlify.app/data/sesiones/&quot;</span>, reunion_nombre, <span class="st">&quot;.pdf&quot;</span>))</span></code></pre></div>
<p>Nuestra lista de sesiones, ahora con una columna con el link a su transcripción, luce así:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="analisis-de-texto.html#cb41-1" aria-hidden="true" tabindex="-1"></a>periodo138</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["reunion_numero"],"name":[1],"type":["int"],"align":["right"]},{"label":["reunion_tipo"],"name":[2],"type":["chr"],"align":["left"]},{"label":["sesion_numero"],"name":[3],"type":["chr"],"align":["left"]},{"label":["reunion_inicio"],"name":[4],"type":["chr"],"align":["left"]},{"label":["reunion_fin"],"name":[5],"type":["chr"],"align":["left"]},{"label":["sesion_camara"],"name":[6],"type":["chr"],"align":["left"]},{"label":["periodo_id"],"name":[7],"type":["chr"],"align":["left"]},{"label":["reunion_nombre"],"name":[8],"type":["chr"],"align":["left"]},{"label":["link"],"name":[9],"type":["chr"],"align":["left"]}],"data":[{"1":"19","2":"Especial (Remota)","3":"1","4":"2021-02-09T12:16:00","5":"2021-02-10T01:09:00","6":"DIPUTADOS","7":"HCDN138R19","8":"138-19","9":"https://cdaj.netlify.app/data/sesiones/138-19.pdf"},{"1":"18","2":"Especial (Remota)","3":"15","4":"2020-12-27T11:40:00","5":"2020-12-27T23:29:00","6":"DIPUTADOS","7":"HCDN138R18","8":"138-18","9":"https://cdaj.netlify.app/data/sesiones/138-18.pdf"},{"1":"17","2":"Especial (Remota)","3":"14","4":"2020-12-08T11:12:00","5":"2020-12-09T08:48:00","6":"DIPUTADOS","7":"HCDN138R17","8":"138-17","9":"https://cdaj.netlify.app/data/sesiones/138-17.pdf"},{"1":"16","2":"Preparatoria","3":"","4":"2020-12-07T13:33:00","5":"2020-12-07T14:50:00","6":"DIPUTADOS","7":"HCDN138R16","8":"138-16","9":"https://cdaj.netlify.app/data/sesiones/138-16.pdf"},{"1":"15","2":"Especial (Remota)","3":"13","4":"2020-11-28T13:44:00","5":"2020-11-29T08:18:00","6":"DIPUTADOS","7":"HCDN138R15","8":"138-15","9":"https://cdaj.netlify.app/data/sesiones/138-15.pdf"},{"1":"14","2":"Especial (Remota)","3":"12","4":"2020-11-15T12:25:00","5":"2020-11-16T08:21:00","6":"DIPUTADOS","7":"HCDN138R14","8":"138-14","9":"https://cdaj.netlify.app/data/sesiones/138-14.pdf"},{"1":"13","2":"Especial (Remota)","3":"11","4":"2020-11-09T15:11:00","5":"2020-11-10T01:48:00","6":"DIPUTADOS","7":"HCDN138R13","8":"138-13","9":"https://cdaj.netlify.app/data/sesiones/138-13.pdf"},{"1":"12","2":"Minoria (Remota)","3":"","4":"2020-11-09T12:18:00","5":"2020-11-09T14:24:00","6":"DIPUTADOS","7":"HCDN138R12","8":"138-12","9":"https://cdaj.netlify.app/data/sesiones/138-12.pdf"},{"1":"11","2":"Especial (Remota)","3":"10","4":"2020-10-26T12:11:00","5":"2020-10-27T08:34:00","6":"DIPUTADOS","7":"HCDN138R11","8":"138-11","9":"https://cdaj.netlify.app/data/sesiones/138-11.pdf"},{"1":"10","2":"Especial (Remota)","3":"9","4":"2020-10-05T15:44:00","5":"2020-10-06T02:35:00","6":"DIPUTADOS","7":"HCDN138R10","8":"138-10","9":"https://cdaj.netlify.app/data/sesiones/138-10.pdf"},{"1":"9","2":"Especial (Remota)","3":"8","4":"2020-09-22T15:15:00","5":"2020-09-23T03:43:00","6":"DIPUTADOS","7":"HCDN138R09","8":"138-9","9":"https://cdaj.netlify.app/data/sesiones/138-9.pdf"},{"1":"8","2":"Especial (Remota)","3":"7","4":"2020-08-30T19:36:00","5":"2020-08-31T05:06:00","6":"DIPUTADOS","7":"HCDN138R08","8":"138-8","9":"https://cdaj.netlify.app/data/sesiones/138-8.pdf"},{"1":"7","2":"Especial (Remota)","3":"6","4":"2020-08-02T14:21:00","5":"2020-08-03T02:35:00","6":"DIPUTADOS","7":"HCDN138R07","8":"138-7","9":"https://cdaj.netlify.app/data/sesiones/138-7.pdf"},{"1":"6","2":"Especial (Remota)","3":"5","4":"2020-07-29T15:46:00","5":"2020-07-30T00:41:00","6":"DIPUTADOS","7":"HCDN138R06","8":"138-6","9":"https://cdaj.netlify.app/data/sesiones/138-6.pdf"},{"1":"5","2":"Informativa (Remota)","3":"4","4":"2020-07-28T16:07:00","5":"2020-07-28T22:56:00","6":"DIPUTADOS","7":"HCDN138R05","8":"138-5","9":"https://cdaj.netlify.app/data/sesiones/138-5.pdf"},{"1":"4","2":"Especial (Remota)","3":"3","4":"2020-06-23T16:15:00","5":"2020-05-24T01:59:00","6":"DIPUTADOS","7":"HCDN138R04","8":"138-4","9":"https://cdaj.netlify.app/data/sesiones/138-4.pdf"},{"1":"3","2":"Minoria (Remota)","3":"","4":"2020-05-26T10:34:00","5":"2020-05-26T12:08:00","6":"DIPUTADOS","7":"HCDN138R03","8":"138-3","9":"https://cdaj.netlify.app/data/sesiones/138-3.pdf"},{"1":"2","2":"Especial (Remota)","3":"2","4":"2020-05-19T14:08:00","5":"2020-05-19T20:21:00","6":"DIPUTADOS","7":"HCDN138R02","8":"138-2","9":"https://cdaj.netlify.app/data/sesiones/138-2.pdf"},{"1":"1","2":"Especial (Remota)","3":"1","4":"2020-05-11T18:10:00","5":"2020-05-12T00:43:00","6":"DIPUTADOS","7":"HCDN138R01","8":"138-1","9":"https://cdaj.netlify.app/data/sesiones/138-1.pdf"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Y ahora leemos los documentos y los agregamos a nuestra tabla. Las celdas no tienen limite de capacidad, y entonces colocamos cada versión taquigráfica en una celda en la fila de la sesión respectiva. Para hacer esto usaremos la función <code>map</code> para que la función que lee PDFs (<code>pdf_text</code>) se ejecute cada vez en cada fila de nuestro dataframe.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="analisis-de-texto.html#cb42-1" aria-hidden="true" tabindex="-1"></a>periodo138 <span class="ot">&lt;-</span> periodo138 <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="analisis-de-texto.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">texto =</span> <span class="fu">map</span>(link, pdf_text)) <span class="co"># puede demorar algunos minutos!</span></span></code></pre></div>
<div class="warning">
<p>Ojo. Ahora en la tabla hay mucha información, lo que resulta pesado para las computadoras. Puede ser que si queremos visualizar la tabla se cuelgue la computadora o se haga muy lenta. Entonces, habrá que evitar abrir la tabla entera. Mejor es llamar a las celdas individualmente desde la consola</p>
</div>
</div>
<div id="limpieza-de-datos" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Limpieza de datos<a href="analisis-de-texto.html#limpieza-de-datos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>El texto tiene muchos caracteres que son parte del formato, y que deberíamos limpiar de modo previo a hacer el análisis. La etapa de limpieza debe tener en cuenta cuál es el objetivo de los datos y del análisis.</p>
<p>Para nuestro ejercicio, en tanto vamos a medir cuántas veces toman la palabra los diputados y las diputadas, deberíamos eliminar cada vez que toma la palabra el Sr. Presidente o el Sr. Secretario. Eliminamos también todos los saltos que figuran como <code>\\n</code> (recuerden que para seleccionar una barra tenemos que escaparla cuatro veces).</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="analisis-de-texto.html#cb43-1" aria-hidden="true" tabindex="-1"></a>limpio <span class="ot">&lt;-</span> periodo138 <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="analisis-de-texto.html#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">texto =</span> <span class="fu">str_replace_all</span>(texto, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">s|</span><span class="sc">\\\\\\\\</span><span class="st">n|</span><span class="sc">\\\\</span><span class="st">n?|</span><span class="sc">\\\\</span><span class="st">f|</span><span class="sc">\\\\\\\\</span><span class="st">n?|</span><span class="sc">\\</span><span class="st">n&quot;</span>, <span class="st">&quot; &quot;</span>))</span>
<span id="cb43-3"><a href="analisis-de-texto.html#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="analisis-de-texto.html#cb43-4" aria-hidden="true" tabindex="-1"></a>limpio <span class="ot">&lt;-</span> periodo138 <span class="sc">%&gt;%</span> </span>
<span id="cb43-5"><a href="analisis-de-texto.html#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">texto =</span> <span class="fu">str_remove_all</span>(texto, <span class="st">&quot;Sr. Presidente|Sr. Secretario|Sra. Presidenta&quot;</span>))</span>
<span id="cb43-6"><a href="analisis-de-texto.html#cb43-6" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb43-7"><a href="analisis-de-texto.html#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(periodo138) <span class="co">#remuevo el objeto para liberar un poco de memoria</span></span></code></pre></div>
</div>
<div id="análisis" class="section level3 hasAnchor" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> Análisis<a href="analisis-de-texto.html#análisis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En este ejercicio sólo queremos contar cuántas veces toma la palabra una diputada mujer y cuántas uno varón. Afortunadamente, en la versión taquigráfica, cada vez que comienza a hablar un diputado varón lo refieren como “Sr. xxxx” y cada vez que comienza a hablar una diputada mujer la refieren como “Sra. yyyy”. Por ello, nos alcanza con contar cuántas veces dice “Sr.” y cuántas “Sra.”.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="analisis-de-texto.html#cb44-1" aria-hidden="true" tabindex="-1"></a>cantidad <span class="ot">&lt;-</span> limpio <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="analisis-de-texto.html#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">varon =</span> <span class="fu">str_count</span>(texto, <span class="st">&quot;Sr.&quot;</span>),</span>
<span id="cb44-3"><a href="analisis-de-texto.html#cb44-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">mujer =</span> <span class="fu">str_count</span>(texto, <span class="st">&quot;Sra.&quot;</span>),</span>
<span id="cb44-4"><a href="analisis-de-texto.html#cb44-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">ratio =</span> <span class="fu">round</span>(varon<span class="sc">/</span>mujer,<span class="dv">3</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb44-5"><a href="analisis-de-texto.html#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>reunion_numero, <span class="sc">-</span>sesion_numero,<span class="sc">-</span>texto, <span class="sc">-</span>link, <span class="sc">-</span>sesion_camara, <span class="sc">-</span>periodo_id, <span class="sc">-</span>reunion_fin)</span>
<span id="cb44-6"><a href="analisis-de-texto.html#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="analisis-de-texto.html#cb44-7" aria-hidden="true" tabindex="-1"></a>cantidad</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["reunion_tipo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["reunion_inicio"],"name":[2],"type":["chr"],"align":["left"]},{"label":["reunion_nombre"],"name":[3],"type":["chr"],"align":["left"]},{"label":["varon"],"name":[4],"type":["int"],"align":["right"]},{"label":["mujer"],"name":[5],"type":["int"],"align":["right"]},{"label":["ratio"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"Especial (Remota)","2":"2021-02-09T12:16:00","3":"138-19","4":"258","5":"81","6":"3.185"},{"1":"Especial (Remota)","2":"2020-12-27T11:40:00","3":"138-18","4":"223","5":"65","6":"3.431"},{"1":"Especial (Remota)","2":"2020-12-08T11:12:00","3":"138-17","4":"355","5":"154","6":"2.305"},{"1":"Preparatoria","2":"2020-12-07T13:33:00","3":"138-16","4":"32","5":"15","6":"2.133"},{"1":"Especial (Remota)","2":"2020-11-28T13:44:00","3":"138-15","4":"898","5":"325","6":"2.763"},{"1":"Especial (Remota)","2":"2020-11-15T12:25:00","3":"138-14","4":"390","5":"139","6":"2.806"},{"1":"Especial (Remota)","2":"2020-11-09T15:11:00","3":"138-13","4":"217","5":"83","6":"2.614"},{"1":"Minoria (Remota)","2":"2020-11-09T12:18:00","3":"138-12","4":"48","5":"19","6":"2.526"},{"1":"Especial (Remota)","2":"2020-10-26T12:11:00","3":"138-11","4":"405","5":"112","6":"3.616"},{"1":"Especial (Remota)","2":"2020-10-05T15:44:00","3":"138-10","4":"340","5":"103","6":"3.301"},{"1":"Especial (Remota)","2":"2020-09-22T15:15:00","3":"138-9","4":"241","5":"86","6":"2.802"},{"1":"Especial (Remota)","2":"2020-08-30T19:36:00","3":"138-8","4":"147","5":"57","6":"2.579"},{"1":"Especial (Remota)","2":"2020-08-02T14:21:00","3":"138-7","4":"289","5":"109","6":"2.651"},{"1":"Especial (Remota)","2":"2020-07-29T15:46:00","3":"138-6","4":"230","5":"76","6":"3.026"},{"1":"Informativa (Remota)","2":"2020-07-28T16:07:00","3":"138-5","4":"99","5":"34","6":"2.912"},{"1":"Especial (Remota)","2":"2020-06-23T16:15:00","3":"138-4","4":"190","5":"72","6":"2.639"},{"1":"Minoria (Remota)","2":"2020-05-26T10:34:00","3":"138-3","4":"22","5":"2","6":"11.000"},{"1":"Especial (Remota)","2":"2020-05-19T14:08:00","3":"138-2","4":"143","5":"65","6":"2.200"},{"1":"Especial (Remota)","2":"2020-05-11T18:10:00","3":"138-1","4":"100","5":"38","6":"2.632"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Y si queremos ver el promedio, calculamos</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="analisis-de-texto.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(cantidad<span class="sc">$</span>ratio)</span></code></pre></div>
<pre><code>## [1] 3.216895</code></pre>
<p>Esto significa que en promedio, durante el período de estudio, los varones hablaron 3 veces más que las mujeres.</p>
</div>
<div id="quienes-hablaron" class="section level3 hasAnchor" number="5.3.4">
<h3><span class="header-section-number">5.3.4</span> Quienes hablaron?<a href="analisis-de-texto.html#quienes-hablaron" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Y también podemos analizar quiénes tomaron la palabra en cada sesión, con el código de <em>lookaround</em> que hicimos arriba. Agregaremos una listado por fila.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="analisis-de-texto.html#cb47-1" aria-hidden="true" tabindex="-1"></a>quienes <span class="ot">&lt;-</span> limpio <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="analisis-de-texto.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">quienes =</span> <span class="fu">str_extract_all</span>(texto, <span class="st">&quot;(?&lt;=Sr.?</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">s)(?=</span><span class="sc">\\</span><span class="st">w)</span><span class="sc">\\</span><span class="st">w*&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="analisis-de-texto.html#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>reunion_numero, <span class="sc">-</span>sesion_numero,<span class="sc">-</span>texto, <span class="sc">-</span>link, <span class="sc">-</span>sesion_camara, <span class="sc">-</span>periodo_id, <span class="sc">-</span>reunion_fin)</span>
<span id="cb47-4"><a href="analisis-de-texto.html#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="analisis-de-texto.html#cb47-5" aria-hidden="true" tabindex="-1"></a>listado <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="fu">as.data.frame</span>(<span class="fu">table</span>(quienes<span class="sc">$</span>quienes[<span class="dv">1</span>]) )) <span class="sc">%&gt;%</span> </span>
<span id="cb47-6"><a href="analisis-de-texto.html#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Freq))</span>
<span id="cb47-7"><a href="analisis-de-texto.html#cb47-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-8"><a href="analisis-de-texto.html#cb47-8" aria-hidden="true" tabindex="-1"></a>listado</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Var1"],"name":[1],"type":["fct"],"align":["left"]},{"label":["Freq"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Giordano","2":"13"},{"1":"Fernández","2":"9"},{"1":"Iglesias","2":"9"},{"1":"del","2":"7"},{"1":"Campos","2":"5"},{"1":"de","2":"5"},{"1":"Heller","2":"5"},{"1":"Martínez","2":"5"},{"1":"Pastori","2":"5"},{"1":"Riccardo","2":"5"},{"1":"Moreau","2":"4"},{"1":"Asseff","2":"3"},{"1":"Burgos","2":"3"},{"1":"Camaño","2":"3"},{"1":"Cornejo","2":"3"},{"1":"Ferraro","2":"3"},{"1":"Figueroa","2":"3"},{"1":"Landriscini","2":"3"},{"1":"López","2":"3"},{"1":"Marziotta","2":"3"},{"1":"Morales","2":"3"},{"1":"Negri","2":"3"},{"1":"Penacca","2":"3"},{"1":"Ponce","2":"3"},{"1":"Ritondo","2":"3"},{"1":"Salvador","2":"3"},{"1":"Sapag","2":"3"},{"1":"Yutrovic","2":"3"},{"1":"Amaya","2":"2"},{"1":"Bernazza","2":"2"},{"1":"Brizuela","2":"2"},{"1":"Cano","2":"2"},{"1":"Carnaghi","2":"2"},{"1":"Carrizo","2":"2"},{"1":"Cerruti","2":"2"},{"1":"Di","2":"2"},{"1":"Félix","2":"2"},{"1":"García","2":"2"},{"1":"Gioja","2":"2"},{"1":"González","2":"2"},{"1":"Hagman","2":"2"},{"1":"Hernández","2":"2"},{"1":"Igon","2":"2"},{"1":"Laspina","2":"2"},{"1":"Leiva","2":"2"},{"1":"Manzi","2":"2"},{"1":"Martín","2":"2"},{"1":"Matzen","2":"2"},{"1":"Menna","2":"2"},{"1":"Mestre","2":"2"},{"1":"Mosqueda","2":"2"},{"1":"Najul","2":"2"},{"1":"Ramón","2":"2"},{"1":"Reyes","2":"2"},{"1":"Sarghini","2":"2"},{"1":"Soria","2":"2"},{"1":"Vallejos","2":"2"},{"1":"Wolff","2":"2"},{"1":"Zottos","2":"2"},{"1":"Alderete","2":"1"},{"1":"Alume","2":"1"},{"1":"Aparicio","2":"1"},{"1":"Arce","2":"1"},{"1":"Austin","2":"1"},{"1":"Bazze","2":"1"},{"1":"Bucca","2":"1"},{"1":"Carro","2":"1"},{"1":"Casaretto","2":"1"},{"1":"Casas","2":"1"},{"1":"Cassinerio","2":"1"},{"1":"Cisneros","2":"1"},{"1":"Contigiani","2":"1"},{"1":"Delú","2":"1"},{"1":"Estevez","2":"1"},{"1":"Flores","2":"1"},{"1":"Frade","2":"1"},{"1":"Fregonese","2":"1"},{"1":"Gaillard","2":"1"},{"1":"Grande","2":"1"},{"1":"Gutiérrez","2":"1"},{"1":"Halac","2":"1"},{"1":"Jetter","2":"1"},{"1":"Kirchner","2":"1"},{"1":"Koenig","2":"1"},{"1":"Lampreabe","2":"1"},{"1":"Latorre","2":"1"},{"1":"Lehmann","2":"1"},{"1":"Lena","2":"1"},{"1":"Martiarena","2":"1"},{"1":"Massín","2":"1"},{"1":"Moisés","2":"1"},{"1":"Mounier","2":"1"},{"1":"Nani","2":"1"},{"1":"Nanni","2":"1"},{"1":"Navarro","2":"1"},{"1":"Oliveto","2":"1"},{"1":"Orrego","2":"1"},{"1":"Ortega","2":"1"},{"1":"Parola","2":"1"},{"1":"Pértile","2":"1"},{"1":"Piccolomini","2":"1"},{"1":"Polledo","2":"1"},{"1":"Quetglas","2":"1"},{"1":"Rauschenberger","2":"1"},{"1":"Rey","2":"1"},{"1":"Schiavoni","2":"1"},{"1":"Schlereth","2":"1"},{"1":"Stilman","2":"1"},{"1":"Suárez","2":"1"},{"1":"Tailhade","2":"1"},{"1":"Terada","2":"1"},{"1":"Tonelli","2":"1"},{"1":"Uceda","2":"1"},{"1":"Uhrig","2":"1"},{"1":"Verón","2":"1"},{"1":"Vigo","2":"1"},{"1":"Yacobitti","2":"1"},{"1":"Yasky","2":"1"},{"1":"Yedlin","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="ejercicios-3" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Ejercicios<a href="analisis-de-texto.html#ejercicios-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><p>En la última tabla pudimos ver en concreto quién habló y cuántas veces lo hizo. Pero notemos que aparecen algunos “del” y “de” sueltos… ¡falta el resto de esos apellidos!. ¿Cómo podríamos obtener el apellido completo de
<code>"DE LA SOTA, NATALIA"</code>, <code>"DE LOREDO, RODRIGO"</code>, <code>"DEL PLA, ROMINA"</code>, etc?</p></li>
<li><p>Descarguemos un tomo de jurisprudencia de la Corte Suprema de Justicia de la Nación (<a href="https://sjservicios.csjn.gov.ar/sj/tomosFallos.do?method=iniciar" class="uri">https://sjservicios.csjn.gov.ar/sj/tomosFallos.do?method=iniciar</a>), o la similar en otros países, y extraigamos las citas a precedentes: <code>"Fallos xxx:xxx"</code></p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="visualización.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="información-geográfica-y-mapas.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["CD_AJ.pdf", "CD_AJ.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
